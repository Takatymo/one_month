{% extends "question/top_default.html" %}

{% load staticfiles %}

{% load bootstrap_toolkit %}

{% block title %}トップページ{% endblock title %}

{% block tab %}

    <div class="activities">
        <div id="masonry" style="position: relative; width: 660px; height: 729px;">
            {% for qa in qa_list %}
            <div id={{qa.0.question.id}} class="item" style="position: absolute; border-top: 3px solid #BFBFBF; border-bottom: 10px solid #8DCF3F; border-left: none; border-right: 3px solid #BFBFBF;">
                <div>
                    {% if qa.2.avatar %}
                        <img src="/static/{{qa.2.avatar}}" align="left" width="50" height="50">
                    {% else %}
                        <img src="/static/images/no_image.png" align="left" width="50" height="50">
                    {% endif%}
                    &nbsp;質問者：{{qa.0.question.questioner}}<br>
                    &nbsp;質問日時：{{qa.0.question.date}}
                    <!--&nbsp;残り時間：-->
                </div>
                <hr>
                <span style="font-size: medium;font-weight: bold;">
                    {{qa.0.question.title}}<p>&nbsp;</p>
                </span>
                <span style="font-size: 9pt;">
                    {{qa.0.question.text | truncatechars:"80" | linebreaksbr }}
                    {% if q.0.text|length > 80 %}
                        <a href="{% url 'dotchain:q_detail' q.0.id %}">...続きを読む</a>
                    {% endif %}
                </span>
                <hr>
                {# 回答待ちの場合返信・パスボタンを表示する #}
                {% if qa.1 == 'pending' %}
                    <span>制限時間：(TODO)</span>
                    <div style="float:right">
                        <a class="btn btn-success" href="{% url 'dotchain:r_new' id=qa.0.question.id %}" role="button">返信</a>
                        <a class="btn btn-danger" href="{% url 'dotchain:q_pass' id=qa.0.id %}" role="button">パス</a>
                    </div>
                {% endif %}
            </div>
            {% endfor %}
        </div>
    </div>

{% endblock tab %}